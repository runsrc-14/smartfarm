{"version":3,"sources":["webpack:///./src/components/user_page.vue?b390","webpack:///src/components/user_page.vue","webpack:///./src/components/user_page.vue?db3a","webpack:///./src/components/user_page.vue?c141","webpack:///./src/components/user_page.vue?7cd0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","scopedSlots","_u","key","fn","ref","text","_v","_s","model","value","callback","$$v","file","expression","on","$event","submitFiles","_e","class","active","loaded","currentUser","admin","$router","push","timeout","color","_g","_b","snackbar","loadChart","NotData","numData","length","ChartData","date","max","min","loadtable","NotDataTable","forcast","dialog","point","submitRating","id","staticRenderFns","methods","formData","append","weatherDataService","console","log","resetState","requestData","showError","showChart","EditDate","Date","MaxTemp","tutorials","MinTemp","Rainfall","Evaporation","Sunshine","WindGustSpeed","WindSpeed9am","WindSpeed3pm","Humidity9am","Humidity3pm","Pressure9am","Pressure3pm","Cloud9am","Cloud3pm","Temp9am","Temp3pm","RainToday","RISK_MM","predicted","userId","computed","$store","state","auth","user","roles","includes","components","apexchart","Table","mounted","ChartGetData","loadTableData","beforeDestroy","clearInterval","data","tbload","id_get","tab","items","textbar","setChart","isActive","menu","date11","date22","dates","dayz","selectedIndex","days","show","day","query","city","country","intervalid1","datas","errorMessage","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VDialog","VDivider","VFileInput","VIcon","VList","VProgressCircular","VRating","VRow","VSnackbar","VSpacer"],"mappings":"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","file":"js/chunk-23e69a01.1277f020.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"pa-0 d-flex justify-center\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[(this.currentUser)?_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-row',{staticClass:\"text-center\",staticStyle:{\"align-items\":\"center\"}},[_c('v-file-input',{staticStyle:{\"width\":\"4rem\"},attrs:{\"accept\":\".csv\",\"show-size\":\"\",\"label\":\"เลือกไฟล์เพื่อพยากรณ์\",\"chips\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar text = ref.text;\nreturn [_c('v-chip',{attrs:{\"small\":\"\",\"label\":\"\",\"color\":\"#C4F57E\"}},[_vm._v(\" \"+_vm._s(text)+\" \")])]}}],null,false,3375965593),model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),(this.file)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.submitFiles()}}},[_vm._v(\"ยืนยัน\")]):_vm._e()],1)],1):_vm._e(),_c('v-row',{staticClass:\"pl-6 ml-3\"},[_c('p',{class:{ active: _vm.loaded },staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\" กราฟแสดงข้อมูลอุณหภูมิ \")]),_c('v-spacer'),(!_vm.currentUser && !_vm.admin)?_c('p',{staticClass:\"pr-6\",class:{ active: _vm.loaded },staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"0.9rem\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.$router.push('/register')}}},[_vm._v(\" กดที่นี่เพื่อพยากรณ์ด้วยตนเอง >> \")]):_vm._e()],1),_c('v-col',[_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout,\"color\":_vm.color,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\",\"color\":\"white\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]),_c('v-card',{staticClass:\"pa-4\",staticStyle:{\"background-color\":\"rgb(255, 255, 255)\"}},[(!_vm.loadChart && _vm.NotData != 'ยังไม่มีข้อมูลการพยากรณ์')?_c('div',{staticClass:\"progress\"},[_c('v-progress-circular',{attrs:{\"size\":60,\"width\":7,\"color\":\"warning\",\"indeterminate\":\"\"}})],1):_vm._e(),(!_vm.loadChart && _vm.NotData != 'ยังไม่มีข้อมูลการพยากรณ์')?_c('p',{staticClass:\"progress\"},[_vm._v(\" กำลังโหลดข้อมูลกราฟ \")]):_vm._e(),(_vm.NotData != '' && _vm.numData.length < 1)?_c('v-list',{staticClass:\"text-center pa-2\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"size\":\"4rem\"}},[_vm._v(\"mdi-progress-close\")]),_c('p',[_vm._v(_vm._s(_vm.NotData))])],1):_vm._e(),(_vm.loaded && _vm.loadChart && _vm.ChartData.date != '')?_c('apexchart',{ref:\"chart\",attrs:{\"type\":\"line\",\"MaxData\":_vm.ChartData.max,\"MinData\":_vm.ChartData.min,\"Date\":_vm.ChartData.date}}):_vm._e()],1)],1),_c('v-col',[_c('div',{staticClass:\"pa-3\"},[_c('span',{staticClass:\"align-self-center pl-2 pr-2\",class:{ active: _vm.loaded },staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\"ตารางสภาพอากาศและผลพยากรณ์\")])]),_c('v-card',[(!_vm.loadtable && _vm.NotDataTable != 'ยังไม่มีข้อมูลการพยากรณ์')?_c('div',{staticClass:\"progress\"},[_c('v-progress-circular',{attrs:{\"size\":60,\"width\":7,\"color\":\"warning\",\"indeterminate\":\"\"}})],1):_vm._e(),(!_vm.loadtable && _vm.NotDataTable != 'ยังไม่มีข้อมูลการพยากรณ์')?_c('p',{staticClass:\"progress\"},[_vm._v(\" กำลังโหลดข้อมูลตารางการพยากรณ์ ... \")]):_vm._e(),(_vm.NotDataTable != '' && _vm.forcast.length < 1)?_c('v-list',{staticClass:\"text-center pa-2\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"size\":\"4rem\"}},[_vm._v(\"mdi-progress-close\")]),_c('p',[_vm._v(_vm._s(_vm.NotDataTable))])],1):_vm._e(),(_vm.loadtable && _vm.forcast != '')?_c('Table',{attrs:{\"datatable\":_vm.forcast}}):_vm._e()],1)],1),(!_vm.admin && _vm.currentUser)?_c('v-dialog',{attrs:{\"max-width\":\"290\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"elevation-16 mx-auto\",attrs:{\"width\":\"300\"}},[_c('v-card-title',{staticStyle:{\"font-size\":\"1rem\"}},[_vm._v(\" ให้คะแนนการพยากรณ์ของระบบ \")]),_c('v-card-text',[_c('div',{staticClass:\"text-center mt-8\"},[_c('v-rating',{attrs:{\"color\":\"yellow\",\"background-color\":\"grey darken-1\",\"empty-icon\":\"$ratingFull\",\"half-increments\":\"\",\"hover\":\"\"},model:{value:(_vm.point),callback:function ($$v) {_vm.point=$$v},expression:\"point\"}})],1)]),_c('v-divider'),_c('v-card-actions',{staticClass:\"justify-space-between\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" ไว้คราวหลัง \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.submitRating(_vm.currentUser.id)}}},[_vm._v(\" ให้คะแนน \")])],1)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row class=\"pa-0 d-flex justify-center\">\r\n    <v-col cols=\"12\" sm=\"12\">\r\n      <!-- input field -->\r\n      <v-col cols=\"12\" sm=\"3\" v-if=\"this.currentUser\">\r\n        <v-row class=\"text-center\" style=\"align-items:center\">\r\n          <v-file-input\r\n            accept=\".csv\"\r\n            style=\"width:4rem\"\r\n            show-size\r\n            label=\"เลือกไฟล์เพื่อพยากรณ์\"\r\n            chips\r\n            v-model=\"file\"\r\n          >\r\n            <template v-slot:selection=\"{ text }\">\r\n              <v-chip small label color=\"#C4F57E\">\r\n                {{ text }}\r\n              </v-chip>\r\n            </template></v-file-input\r\n          >\r\n\r\n          <v-btn\r\n            small\r\n            class=\"ml-2\"\r\n            text\r\n            color=\"primary\"\r\n            v-if=\"this.file\"\r\n            @click=\"submitFiles()\"\r\n            >ยืนยัน</v-btn\r\n          >\r\n        </v-row>\r\n      </v-col>\r\n\r\n      <!--End input field -->\r\n\r\n      <v-row class=\"pl-6 ml-3\">\r\n        <p style=\"cursor:pointer\" :class=\"{ active: loaded }\">\r\n          กราฟแสดงข้อมูลอุณหภูมิ\r\n        </p>\r\n        <v-spacer></v-spacer>\r\n        <p\r\n          v-if=\"!currentUser && !admin\"\r\n          style=\"cursor:pointer;font-size:0.9rem;color:red\"\r\n          class=\"pr-6\"\r\n          :class=\"{ active: loaded }\"\r\n          @click=\"$router.push('/register')\"\r\n        >\r\n          กดที่นี่เพื่อพยากรณ์ด้วยตนเอง >>\r\n        </p>\r\n      </v-row>\r\n      <v-col>\r\n        <!-- <v-btn color=\"indigo\" small outlined v-on:click=\"getDataall\"\r\n          >ทั้งหมด</v-btn\r\n        > -->\r\n        <!-- aert -->\r\n        <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\" :color=\"color\" dense>\r\n          {{ text }}\r\n\r\n          <template v-slot:action=\"{ on, attrs }\">\r\n            <v-icon\r\n              small\r\n              color=\"white\"\r\n              text\r\n              v-bind=\"attrs\"\r\n              @click=\"snackbar = false\"\r\n              v-on=\"on\"\r\n            >\r\n              mdi-close\r\n            </v-icon>\r\n          </template>\r\n        </v-snackbar>\r\n\r\n        <!-- alert -->\r\n        <v-card class=\"pa-4\" style=\"background-color:rgb(255, 255, 255)\">\r\n          <div\r\n            class=\"progress\"\r\n            v-if=\"!loadChart && NotData != 'ยังไม่มีข้อมูลการพยากรณ์'\"\r\n          >\r\n            <v-progress-circular\r\n              :size=\"60\"\r\n              :width=\"7\"\r\n              color=\"warning\"\r\n              indeterminate\r\n            ></v-progress-circular>\r\n          </div>\r\n          <p\r\n            class=\"progress\"\r\n            v-if=\"!loadChart && NotData != 'ยังไม่มีข้อมูลการพยากรณ์'\"\r\n          >\r\n            กำลังโหลดข้อมูลกราฟ\r\n          </p>\r\n          <!-- notdata -->\r\n          <v-list\r\n            v-if=\"NotData != '' && numData.length < 1\"\r\n            class=\"text-center pa-2\"\r\n          >\r\n            <v-icon color=\"warning\" size=\"4rem\">mdi-progress-close</v-icon>\r\n            <p>{{ NotData }}</p>\r\n          </v-list>\r\n          <!-- end -->\r\n          <apexchart\r\n            v-if=\"loaded && loadChart && ChartData.date != ''\"\r\n            type=\"line\"\r\n            ref=\"chart\"\r\n            :MaxData=\"ChartData.max\"\r\n            :MinData=\"ChartData.min\"\r\n            :Date=\"ChartData.date\"\r\n          ></apexchart>\r\n        </v-card>\r\n      </v-col>\r\n      <!-- ส่วนแดง ตารางและกราฟ -->\r\n      <v-col>\r\n        <div class=\"pa-3\">\r\n          <span\r\n            style=\"cursor:pointer\"\r\n            :class=\"{ active: loaded }\"\r\n            class=\"align-self-center pl-2 pr-2\"\r\n            >ตารางสภาพอากาศและผลพยากรณ์</span\r\n          >\r\n        </div>\r\n        <v-card>\r\n          <div\r\n            class=\"progress\"\r\n            v-if=\"!loadtable && NotDataTable != 'ยังไม่มีข้อมูลการพยากรณ์'\"\r\n          >\r\n            <v-progress-circular\r\n              :size=\"60\"\r\n              :width=\"7\"\r\n              color=\"warning\"\r\n              indeterminate\r\n            ></v-progress-circular>\r\n          </div>\r\n          <p\r\n            class=\"progress\"\r\n            v-if=\"!loadtable && NotDataTable != 'ยังไม่มีข้อมูลการพยากรณ์'\"\r\n          >\r\n            กำลังโหลดข้อมูลตารางการพยากรณ์ ...\r\n          </p>\r\n          <!-- not data table -->\r\n          <v-list\r\n            v-if=\"NotDataTable != '' && forcast.length < 1\"\r\n            class=\"text-center pa-2\"\r\n          >\r\n            <v-icon color=\"warning\" size=\"4rem\">mdi-progress-close</v-icon>\r\n            <p>{{ NotDataTable }}</p>\r\n          </v-list>\r\n          <!-- not data table -->\r\n\r\n          <Table v-if=\"loadtable && forcast != ''\" :datatable=\"forcast\" />\r\n        </v-card>\r\n      </v-col>\r\n\r\n      <v-dialog v-if=\"!admin && currentUser\" v-model=\"dialog\" max-width=\"290\">\r\n        <v-card class=\"elevation-16 mx-auto\" width=\"300\">\r\n          <v-card-title style=\"font-size: 1rem;\">\r\n            ให้คะแนนการพยากรณ์ของระบบ\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <div class=\"text-center mt-8\">\r\n              <v-rating\r\n                v-model=\"point\"\r\n                color=\"yellow\"\r\n                background-color=\"grey darken-1\"\r\n                empty-icon=\"$ratingFull\"\r\n                half-increments\r\n                hover\r\n              ></v-rating>\r\n            </div>\r\n          </v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions class=\"justify-space-between\">\r\n            <v-btn text @click=\"dialog = false\">\r\n              ไว้คราวหลัง\r\n            </v-btn>\r\n            <v-btn\r\n              color=\"primary\"\r\n              text\r\n              v-on:click=\"submitRating(currentUser.id)\"\r\n            >\r\n              ให้คะแนน\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n      <!-- ส่วนแดง ตารางและกราฟ -->\r\n      <!-- </v-col> -->\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\n// import apexchart from \"@/components/Visuals/DoughnutChart\";\r\nimport weatherDataService from \"@/services/weatherDataService\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport TutorialDataService from \"../services/TutorialDataService\";\r\nexport default {\r\n  methods: {\r\n    submitFiles() {\r\n      if (this.file) {\r\n        let formData = new FormData();\r\n        // files\r\n        // additional data\r\n        formData.append(\"file\", this.file);\r\n        weatherDataService\r\n          .csv(formData, this.currentUser.id)\r\n          .then(() => {\r\n            this.ChartGetData();\r\n            this.loadTableData();\r\n            this.snackbar = true;\r\n            this.text = \"อัพโหลดข้อมูลเรียบร้อย\";\r\n            this.color = \"success\";\r\n            this.file = [];\r\n\r\n            this.$refs.chart.updateSeries([\r\n              {\r\n                data: this.ChartData,\r\n              },\r\n            ]);\r\n          })\r\n          .catch((error) => {\r\n            console.log({ error });\r\n          });\r\n      } else {\r\n        console.log(\"there are no files.\");\r\n        this.snackbar = true;\r\n        this.text = \"กรุณาเลือกไฟล์\";\r\n      }\r\n    },\r\n    async getDataall() {\r\n      this.resetState();\r\n      await weatherDataService\r\n        .getAll()\r\n        .then((response) => {\r\n          this.days.min = response.data[0].date; //ช่วงเวลาที่เลือกได้น้อยที่สุด\r\n          this.date11 = this.days.min; //จุดเริ่มต้นของปฎิทิน\r\n          this.days.max = response.data[response.data.length - 1].date; //ช่วงเวลาที่เลือกได้มากที่สุด\r\n          console.log(response.data[0]);\r\n          //แสดงชาร์ท ไม่เกิน 100 - 150\r\n          this.ChartData.min = response.data.map((entry) => entry.MinTemp);\r\n          this.ChartData.max = response.data.map((entry) => entry.MaxTemp);\r\n          this.ChartData.date = response.data.map((entry) => entry.date);\r\n          this.loaded = true;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data.error);\r\n        });\r\n    },\r\n    resetState() {\r\n      this.loaded = false;\r\n    },\r\n    requestData() {\r\n      if (\r\n        this.date11 === null ||\r\n        this.date11 === \"\" ||\r\n        this.date11 === \"0000-00-00\" ||\r\n        this.date11 === \"undefined\"\r\n      ) {\r\n        this.showError = true;\r\n        return;\r\n      }\r\n      this.resetState();\r\n      weatherDataService\r\n        .findDate(this.date11, this.date22)\r\n        .then((response) => {\r\n          this.ChartData.min = response.data.map((entry) => entry.MinTemp);\r\n          this.ChartData.max = response.data.map((entry) => entry.MaxTemp);\r\n          this.ChartData.date = response.data.map((entry) => entry.date);\r\n          this.dates = [\r\n            `ระหว่าง ${this.ChartData.date[0]} ถึง ${\r\n              response.data[response.data.length - 1].date\r\n            }`,\r\n          ];\r\n          this.menu = false;\r\n          this.loaded = true;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    showChart() {\r\n      this.loadChart = true;\r\n    },\r\n    async ChartGetData() {\r\n      // .get(`http://mock-json-data-generator.herokuapp.com/address?count=10`)\r\n      // .get(`https://rmuti-surin-smartfarm.herokuapp.com/api/csv/tutorials`)\r\n      // .get(`http://localhost:5000/api/csv/GetCSv/1`)\r\n      if (this.currentUser) {\r\n        this.id_get = this.currentUser.id;\r\n      }\r\n      if (!this.currentUser) {\r\n        this.id_get;\r\n      }\r\n      await axios\r\n        .get(\r\n          `https://rmuti-surin-smartfarm.herokuapp.com/api/csv/GetCSv/45`\r\n        )\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          this.numData = response.data;\r\n          this.ChartData.min = response.data.map((entry) => entry.MinTemp);\r\n          this.ChartData.max = response.data.map((entry) => entry.MaxTemp);\r\n          for (var num = 0; num < response.data.length; num++) {\r\n            this.ChartData.date.push(\r\n              moment(response.data[num].Date)\r\n                .locale(\"TH\")\r\n                .add(543, \"year\")\r\n                .format(\"LL\")\r\n            );\r\n          }\r\n          if (response.data.length > 1) {\r\n            this.loaded = true;\r\n            this.loadChart = true;\r\n          } else {\r\n            console.log(\"ไม่มีข้อมูล\");\r\n            this.NotData = \"ยังไม่มีข้อมูลการพยากรณ์\";\r\n            this.ChartData.min = [];\r\n            this.ChartData.max = [];\r\n            this.ChartData.date = [];\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    async loadTableData() {\r\n      await axios\r\n        .get(\r\n          `https://anycors-smf.herokuapp.com/https://api-rmuti.herokuapp.com/weather`\r\n        )\r\n        .then((response) => {\r\n          // console.log(response.data.length);\r\n\r\n          if (response.data.length > 1) {\r\n            this.forcast = response.data.map(this.EditDate);\r\n            this.loadtable = true;\r\n            this.dialog = true;\r\n          } else {\r\n            this.NotDataTable = \"ยังไม่มีข้อมูลการพยากรณ์\";\r\n            this.forcast = [];\r\n          }\r\n          // console.log(this.days.min, this.days.max);\r\n        })\r\n        .catch((err) => {\r\n          // this.loadChart = true;\r\n          console.log(err);\r\n        });\r\n    },\r\n    EditDate(tutorials) {\r\n      return {\r\n        Date: moment(tutorials.Date)\r\n          .locale(\"TH\")\r\n          .add(543, \"year\")\r\n          .format(\"LL\"),\r\n        MaxTemp: tutorials.MaxTemp,\r\n        MinTemp: tutorials.MinTemp,\r\n        Rainfall: tutorials.Rainfall,\r\n        Evaporation: tutorials.Evaporation,\r\n        Sunshine: tutorials.Sunshine,\r\n        WindGustSpeed: tutorials.WindGustSpeed,\r\n        WindSpeed9am: tutorials.WindSpeed9am,\r\n        WindSpeed3pm: tutorials.WindSpeed3pm,\r\n        Humidity9am: tutorials.Humidity9am,\r\n        Humidity3pm: tutorials.Humidity3pm,\r\n        Pressure9am: tutorials.Pressure9am,\r\n        Pressure3pm: tutorials.Pressure3pm,\r\n        Cloud9am: tutorials.Cloud9am,\r\n        Cloud3pm: tutorials.Cloud3pm,\r\n        Temp9am: tutorials.Temp9am,\r\n        Temp3pm: tutorials.Temp3pm,\r\n        RainToday: tutorials.RainToday,\r\n        RISK_MM: tutorials.RISK_MM,\r\n        predicted: tutorials.predicted,\r\n        userId: tutorials.userId,\r\n      };\r\n    },\r\n    async submitRating() {\r\n      await TutorialDataService.rating(this.currentUser.id, this.point);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    currentUser() {\r\n      return this.$store.state.auth.user;\r\n    },\r\n    admin() {\r\n      if (this.currentUser && this.currentUser.roles) {\r\n        return this.currentUser.roles.includes(\"ROLE_ADMIN\");\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n\r\n  components: {\r\n    apexchart: () => import(\"@/components/Visuals/DoughnutChart\"),\r\n    Table: () => import(\"@/components/TableForcast\"),\r\n  },\r\n  mounted() {\r\n    // if (!this.currentUser) {\r\n    //   this.$store.dispatch(\"auth/logout\");\r\n    //   this.$router.push(\"/register\");\r\n    // }\r\n    this.ChartGetData();\r\n    this.loadTableData();\r\n    // if (!this.currentUser) {\r\n    //   // console.log(55);\r\n    // }\r\n    // setInterval(() => {\r\n    //   this.ChartGetData();\r\n    //   this.loadTableData();\r\n    // }, 6000);\r\n    // this.created;\r\n  },\r\n\r\n  beforeDestroy() {\r\n    clearInterval(this.ChartGetData());\r\n  },\r\n\r\n  data: () => {\r\n    return {\r\n      tbload: false,\r\n      id_get: 1,\r\n      dialog: false,\r\n      point: 0,\r\n      tab: null,\r\n      items: [\"กราฟแสดงข้อมูลอุณหภูมิ\", \"ตารางสภาพอากาศและผลพยากรณ์\"],\r\n      textbar: [\"abc\", \"def\"],\r\n      file: null,\r\n      numData: [],\r\n      loadtable: false,\r\n      setChart: 0,\r\n      isActive: false,\r\n      loadChart: false,\r\n      menu: false,\r\n      date11: \"\",\r\n      date22: \"\",\r\n      dates: [],\r\n      dayz: \"\",\r\n      selectedIndex: 5,\r\n      days: {\r\n        min: \"\",\r\n        max: \"\",\r\n        show: \"\",\r\n      },\r\n      value: null,\r\n      day: \"\",\r\n      query: \"\",\r\n      city: \"surin\",\r\n      country: \"\",\r\n      intervalid1: \"\",\r\n      datas: [],\r\n      ChartData: {\r\n        min: [],\r\n        date: [],\r\n        max: [],\r\n      },\r\n      loaded: false,\r\n      showError: false,\r\n      errorMessage: \"เลือกวันที่ใหม่\",\r\n      NotData: \"\",\r\n      NotDataTable: \"\",\r\n      forcast: [],\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 2000,\r\n      color: \"\",\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.active {\r\n  color: rgb(214, 24, 103) !important;\r\n  font-size: 1rem;\r\n}\r\n.progress {\r\n  justify-content: center;\r\n  display: flex;\r\n  align-content: center;\r\n  align-self: center;\r\n  padding-top: 1rem;\r\n  /* padding-top: 60px; */\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user_page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user_page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user_page.vue?vue&type=template&id=2002b2d9&\"\nimport script from \"./user_page.vue?vue&type=script&lang=js&\"\nexport * from \"./user_page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user_page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRating } from 'vuetify/lib/components/VRating';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VDialog,VDivider,VFileInput,VIcon,VList,VProgressCircular,VRating,VRow,VSnackbar,VSpacer})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user_page.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}