(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40763714"],{"5a8f":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-row",{staticClass:"pa-0 d-flex justify-center"},[e("v-col",{attrs:{cols:"12",sm:"12"}},[e("v-col",{attrs:{cols:"12",md:"9",sm:"12"}},[e("reactive",{attrs:{"chart-data":t.ChartData}})],1)],1)],1)},r=[],o=(e("99af"),e("caad"),e("d81d"),e("2532"),e("96cf"),e("1da1")),i=e("b883"),c=e("bc3a"),u=e.n(c),s=e("c1df"),d=e.n(s),l=e("f652"),m=e("14fd"),h={methods:{submitFiles:function(){var t=this;if(this.file){var a=new FormData;a.append("file",this.file),i["a"].csv(a,this.currentUser.id).then((function(){t.ChartGetData(),t.loadTableData(),t.snackbar=!0,t.text="อัพโหลดข้อมูลเรียบร้อย",t.color="success",t.file=[],t.$refs.chart.updateSeries([{data:t.ChartData}])})).catch((function(t){console.log({error:t})}))}else console.log("there are no files."),this.snackbar=!0,this.text="กรุณาเลือกไฟล์"},getDataall:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.resetState(),a.next=3,i["a"].getAll().then((function(a){t.days.min=a.data[0].date,t.date11=t.days.min,t.days.max=a.data[a.data.length-1].date,console.log(a.data[0]),t.ChartData.min=a.data.map((function(t){return t.MinTemp})),t.ChartData.max=a.data.map((function(t){return t.MaxTemp})),t.ChartData.date=a.data.map((function(t){return t.date})),t.loaded=!0})).catch((function(t){console.log(t.response.data.error)}));case 3:case"end":return a.stop()}}),a)})))()},resetState:function(){this.loaded=!1},requestData:function(){var t=this;null!==this.date11&&""!==this.date11&&"0000-00-00"!==this.date11&&"undefined"!==this.date11?(this.resetState(),i["a"].findDate(this.date11,this.date22).then((function(a){t.ChartData.min=a.data.map((function(t){return t.MinTemp})),t.ChartData.max=a.data.map((function(t){return t.MaxTemp})),t.ChartData.date=a.data.map((function(t){return t.date})),t.dates=["ระหว่าง ".concat(t.ChartData.date[0]," ถึง ").concat(a.data[a.data.length-1].date)],t.menu=!1,t.loaded=!0})).catch((function(t){console.log(t)}))):this.showError=!0},showChart:function(){this.loadChart=!0},ChartGetData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentUser&&(t.id_get=t.currentUser.id),t.currentUser||t.id_get,a.next=4,u.a.get("https://rmuti-surin-smartfarm.herokuapp.com/api/csv/GetCSv/".concat(t.id_get)).then((function(a){console.log(a.data),t.numData=a.data,t.ChartData.min=a.data.map((function(t){return t.MinTemp})),t.ChartData.max=a.data.map((function(t){return t.MaxTemp}));for(var e=0;e<a.data.length;e++)t.ChartData.date.push(d()(a.data[e].Date).locale("TH").add(543,"year").format("LL"));a.data.length>1?(t.loaded=!0,t.loadChart=!0):(console.log("ไม่มีข้อมูล"),t.NotData="ยังไม่มีข้อมูลการพยากรณ์",t.ChartData.min=[],t.ChartData.max=[],t.ChartData.date=[])})).catch((function(t){console.log(t)}));case 4:case"end":return a.stop()}}),a)})))()},loadTableData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u.a.get("https://anycors-smf.herokuapp.com/https://api-rmuti.herokuapp.com/weather").then((function(a){a.data.length>1?(t.forcast=a.data.map(t.EditDate),t.loadtable=!0,t.dialog=!0):(t.NotDataTable="ยังไม่มีข้อมูลการพยากรณ์",t.forcast=[])})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()},EditDate:function(t){return{Date:d()(t.Date).locale("TH").add(543,"year").format("LL"),MaxTemp:t.MaxTemp,MinTemp:t.MinTemp,Rainfall:t.Rainfall,Evaporation:t.Evaporation,Sunshine:t.Sunshine,WindGustSpeed:t.WindGustSpeed,WindSpeed9am:t.WindSpeed9am,WindSpeed3pm:t.WindSpeed3pm,Humidity9am:t.Humidity9am,Humidity3pm:t.Humidity3pm,Pressure9am:t.Pressure9am,Pressure3pm:t.Pressure3pm,Cloud9am:t.Cloud9am,Cloud3pm:t.Cloud3pm,Temp9am:t.Temp9am,Temp3pm:t.Temp3pm,RainToday:t.RainToday,RISK_MM:t.RISK_MM,predicted:t.predicted,userId:t.userId}},submitRating:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l["a"].rating(t.currentUser.id,t.point);case 2:case"end":return a.stop()}}),a)})))()}},computed:{currentUser:function(){return this.$store.state.auth.user},admin:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")}},components:{reactive:m["a"]},mounted:function(){this.ChartGetData(),this.loadTableData()},beforeDestroy:function(){clearInterval(this.ChartGetData())},data:function(){return{tbload:!1,id_get:1,dialog:!1,point:0,tab:null,items:["กราฟแสดงข้อมูลอุณหภูมิ","ตารางสภาพอากาศและผลพยากรณ์"],textbar:["abc","def"],file:null,numData:[],loadtable:!1,setChart:0,isActive:!1,loadChart:!1,menu:!1,date11:"",date22:"",dates:[],dayz:"",selectedIndex:5,days:{min:"",max:"",show:""},value:null,day:"",query:"",city:"surin",country:"",intervalid1:"",datas:[],ChartData:{min:[],date:[],max:[]},loaded:!1,showError:!1,errorMessage:"เลือกวันที่ใหม่",NotData:"",NotDataTable:"",forcast:[],snackbar:!1,text:"",timeout:2e3,color:""}}},f=h,p=(e("a778"),e("2877")),v=e("6544"),D=e.n(v),g=e("62ad"),C=e("0fd9"),b=Object(p["a"])(f,n,r,!1,null,null,null);a["default"]=b.exports;D()(b,{VCol:g["a"],VRow:C["a"]})},a276:function(t,a,e){},a778:function(t,a,e){"use strict";e("a276")},b883:function(t,a,e){"use strict";e("99af");var n=e("d4ec"),r=e("bee2"),o=e("c427"),i=function(){function t(){Object(n["a"])(this,t)}return Object(r["a"])(t,[{key:"csv",value:function(t,a){return o["a"].post("/csv/upload/".concat(a),t)}},{key:"getAll",value:function(){return o["a"].get("/csv/model/show")}},{key:"model",value:function(t){return o["a"].post("/csv/upload/model",t)}},{key:"get",value:function(t){return o["a"].get("/csv2/".concat(t))}},{key:"create",value:function(t){return o["a"].post("/csv2",t)}},{key:"findDate",value:function(t,a){return o["a"].get("/date/".concat(t,",").concat(a))}},{key:"update",value:function(t,a){return o["a"].put("/csv2/".concat(t),a)}},{key:"getpredict",value:function(t){return o["a"].get("/csv/predicted/".concat(t))}},{key:"Delete",value:function(t){return o["a"].delete("/csv/Delete_model/".concat(t))}},{key:"DeleteAll",value:function(){return o["a"].delete("/csv/Delete_model")}}]),t}();a["a"]=new i}}]);
//# sourceMappingURL=chunk-40763714.40aedf9a.js.map